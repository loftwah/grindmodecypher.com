var SharrrePlatform=SharrrePlatform||function(){var n={};return{register:function(t,e){n[t]=e},get:function(t,e){return n[t]?new n[t](e):(console.error("Sharrre - No platform found for "+t),!1)}}}();!function(u,t){void 0!==u&&(t.register("linkedin",function(t){return defaultSettings={url:"",urlCount:!1,counter:"",count:!0,popup:{width:550,height:550}},defaultSettings=u.extend(!0,{},defaultSettings,t),{settings:defaultSettings,url:function(t){return""},trackingAction:{site:"linkedin",action:"share"},load:function(t){var e=this.settings;u(t.element).find(".buttons").append('<div class="button linkedin"><script type="IN/share" data-url="'+(""!==e.url?e.url:t.options.url)+'" data-counter="'+e.counter+'"><\/script></div>');var n=0;void 0===window.IN&&0===n?(n=1,function(){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src="https://platform.linkedin.com/in.js";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}()):void 0!==window.IN&&window.IN.parse&&IN.parse(document)},tracking:function(){},popup:function(t){window.open("https://www.linkedin.com/cws/share?url="+encodeURIComponent(""!==this.settings.url?this.settings.url:t.url)+"&token=&isFramed=true","linkedin","toolbar=no, width="+this.settings.popup.width+", height="+this.settings.popup.height)}}}),t.register("facebook",function(t){return defaultSettings={url:"",urlCount:!1,action:"like",layout:"button_count",count:!0,width:"",send:"false",faces:"false",colorscheme:"",font:"",lang:"en_US",share:"",appId:"",popup:{width:900,height:500}},defaultSettings=u.extend(!0,{},defaultSettings,t),{settings:defaultSettings,url:function(t){return"https://graph.facebook.com/?id={url}&callback=?"},trackingAction:{site:"facebook",action:"like"},load:function(t){var e=this.settings;u(t.element).find(".buttons").append('<div class="button facebook"><div id="fb-root"></div><div class="fb-like" data-href="'+(""!==e.url?e.url:t.options.url)+'" data-send="'+e.send+'" data-layout="'+e.layout+'" data-width="'+e.width+'" data-show-faces="'+e.faces+'" data-action="'+e.action+'" data-colorscheme="'+e.colorscheme+'" data-font="'+e.font+'" data-via="'+e.via+'" data-share="'+e.share+'"></div></div>');var n,i,o,s,r,a=0;"undefined"==typeof FB&&0===a?(a=1,n=document,i="script",o="facebook-jssdk",r=n.getElementsByTagName(i)[0],n.getElementById(o)||((s=n.createElement(i)).id=o,s.src="https://connect.facebook.net/"+e.lang+"/all.js#xfbml=1",e.appId&&(s.src+="&appId="+e.appId),r.parentNode.insertBefore(s,r))):FB.XFBML.parse()},tracking:function(){fb=window.setInterval(function(){"undefined"!=typeof FB&&"undefined"!=typeof _gaq&&(FB.Event.subscribe("edge.create",function(t){_gaq.push(["_trackSocial","facebook","like",t])}),FB.Event.subscribe("edge.remove",function(t){_gaq.push(["_trackSocial","facebook","unlike",t])}),FB.Event.subscribe("message.send",function(t){_gaq.push(["_trackSocial","facebook","send",t])}),clearInterval(fb))},1e3)},popup:function(t){window.open("https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(""!==this.settings.url?this.settings.url:t.url)+"&t="+t.text,"","toolbar=0, status=0, width="+this.settings.popup.width+", height="+this.settings.popup.height)}}}),t.register("pinterest",function(t){return defaultSettings={url:"",media:"",description:"",layout:"horizontal",popup:{width:700,height:300}},defaultSettings=u.extend(!0,{},defaultSettings,t),{settings:defaultSettings,url:function(t){return"https://api.pinterest.com/v1/urls/count.json?url={url}&callback=?"},trackingAction:{site:"pinterest",action:"pin"},load:function(t){var e=this.settings;u(t.element).find(".buttons").append('<div class="button pinterest"><a href="https://www.pinterest.com/pin/create/button/?url='+(""!==e.url?e.url:t.options.url)+"&media="+e.media+"&description="+e.description+'" data-pin-do="buttonBookmark" count-layout="'+e.layout+'">Pin It</a></div>'),function(){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src="https://assets.pinterest.com/js/pinit.js",t.setAttribute("data-pin-build","parsePinBtns");var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}(),window.parsePinBtns&&window.parsePinBtns(),u(t.element).find(".pinterest").on("click",function(){t.openPopup("pinterest")})},tracking:function(){},popup:function(t){window.open("https://pinterest.com/pin/create/button/?url="+encodeURIComponent(""!==this.settings.url?this.settings.url:t.url)+"&media="+encodeURIComponent(this.settings.media)+"&description="+this.settings.description,"pinterest","toolbar=no,width="+this.settings.popup.width+", height="+this.settings.popup.height)}}}),t.register("twitter",function(t){return defaultSettings={url:"",urlCount:!1,count:!1,hashtags:"",via:"",related:"",lang:"en",popup:{width:650,height:360}},defaultSettings=u.extend(!0,{},defaultSettings,t),{settings:defaultSettings,trackingAction:{site:"twitter",action:"tweet"},url:function(t){return"http://opensharecount.com/count.json?url={url}"},load:function(t){var e=this.settings;u(t.element).find(".buttons").append('<div class="button twitter"><a href="https://twitter.com/share" class="twitter-share-button" data-url="'+(""!==e.url?e.url:t.options.url)+'" data-count="'+e.count+'" data-text="'+t.options.text+'" data-via="'+e.via+'" data-hashtags="'+e.hashtags+'" data-related="'+e.related+'" data-lang="'+e.lang+'">Tweet</a></div>');var n=0;"undefined"==typeof twttr&&0===n?(n=1,function(){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src="https://platform.twitter.com/widgets.js";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}()):u.ajax({url:"https://platform.twitter.com/widgets.js",dataType:"script",cache:!0})},tracking:function(){tw=window.setInterval(function(){"undefined"!=typeof twttr&&(twttr.events.bind("tweet",function(t){t&&"undefined"!=typeof _gaq&&_gaq.push(["_trackSocial","twitter","tweet"])}),clearInterval(tw))},1e3)},popup:function(t){window.open("https://twitter.com/intent/tweet?text="+encodeURIComponent(t.text)+"&url="+encodeURIComponent(""!==this.settings.url?this.setting.url:t.url)+(""!==this.settings.via?"&via="+this.settings.via:""),"","toolbar=0, status=0,width="+this.settings.popup.width+", height="+this.settings.popup.height)}}}),t.register("twitterFollow",function(t){return defaultSettings={url:"",urlCount:!1,count:!0,display:"horizontal",lang:"en",popup:{width:650,height:360},user:"",size:"default",showCount:"false"},defaultSettings=u.extend(!0,{},defaultSettings,t),{settings:defaultSettings,trackingAction:{site:"twitter",action:"follow"},url:function(t){return""},load:function(t){var e=this.settings;u(t.element).find(".buttons").append('<div class="button twitterFollow"><a href="https://twitter.com/'+e.user+'" class="twitter-follow-button"" data-size="'+e.size+'" data-show-count="'+e.showCount+'" data-lang="'+e.lang+'">Follow @'+e.user+"</a></div>");var n=0;"undefined"==typeof twttr&&0===n?(n=1,function(){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src="https://platform.twitter.com/widgets.js";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}()):u.ajax({url:"https://platform.twitter.com/widgets.js",dataType:"script",cache:!0})},tracking:function(){},popup:function(t){window.open("https://twitter.com/intent/follow?screen_name="+encodeURIComponent(this.settings.user),"","toolbar=0, status=0, ,width="+this.settings.popup.width+", height="+this.settings.popup.height)}}}))}(window.jQuery,SharrrePlatform),function(r,t,e,n){var i="sharrre",o={className:"sharrre",share:{},shareTotal:0,template:"",title:"",url:e.location.href,text:e.title,urlCurl:"sharrre.php",count:{},total:0,shorterTotal:!0,enableHover:!0,enableCounter:!0,enableTracking:!1,defaultUrl:"javascript:void(0);",popup:{width:900,height:500},hover:function(){},hide:function(){},click:function(){},render:function(){}};function s(t,e){this.element=t,this.options=r.extend(!0,{},o,e),this.options.share=e.share,this._defaults=o,this._name=i,this.platforms={},this.init()}s.prototype.init=function(){var n=this;r.each(n.options.share,function(t,e){!0===e&&(n.platforms[t]=SharrrePlatform.get(t,n.options.buttons[t]))}),r(this.element).addClass(this.options.className),void 0!==r(this.element).data("title")&&(this.options.title=r(this.element).attr("data-title")),void 0!==r(this.element).data("url")&&(this.options.url=r(this.element).data("url")),void 0!==r(this.element).data("text")&&(this.options.text=r(this.element).data("text")),r.each(this.options.share,function(t,e){!0===e&&n.options.shareTotal++}),!0===n.options.enableCounter?r.each(this.options.share,function(t,e){if(!0===e)try{n.getSocialJson(t)}catch(t){}}):""!==n.options.template&&(n.renderer(),n.options.count[name]=0,n.rendererPerso()),""!==n.options.template?this.options.render(this,this.options):this.loadButtons(),r(this.element).on("mouseenter",function(){0===r(this).find(".buttons").length&&!0===n.options.enableHover&&n.loadButtons(),n.options.hover(n,n.options)}).on("mouseleave",function(){n.options.hide(n,n.options)}),r(this.element).click(function(t){return t.preventDefault(),n.options.click(n,n.options),!1})},s.prototype.loadButtons=function(){var n=this;r(this.element).append('<div class="buttons"></div>'),r.each(n.options.share,function(t,e){!0===e&&(n.platforms[t].load(n),!0===n.options.enableTracking&&n.platforms[t].tracking())})},s.prototype.getSocialJson=function(n){var i=this,o=0,t=i.platforms[n].settings,e=i.platforms[n].url(this.options.urlCurl),s=encodeURIComponent(this.options.url);t.url.length&&(e=t.url),!0===t.urlCount&&""!==e&&(s=e),!1===t.count&&(e=""),url=e.replace("{url}",s),"twitter"==n&&(e=i.platforms[n].url()),""!==url?r.getJSON(url,function(t){if(void 0!==t.count){var e=t.count+"";e=e.replace("Â ",""),o+=parseInt(e,10)}else void 0!==t.share&&void 0!==t.share.share_count?o+=parseInt(t.share.share_count,10):void 0!==t[0]?o+=parseInt(t[0].total_posts,10):t[0];i.options.count[n]=o,i.options.total+=o,i.renderer(),i.rendererPerso()}).error(function(){i.options.count[n]=0,i.rendererPerso()}):(i.renderer(),i.options.count[n]=0,i.rendererPerso())},s.prototype.rendererPerso=function(){var t=0;for(var e in this.options.count)t++;t===this.options.shareTotal&&this.options.render(this,this.options)},s.prototype.renderer=function(){var t=this.options.total,e=this.options.template;!0===this.options.shorterTotal&&(t=this.shorterTotal(t)),""!==e?(e=e.replace("{total}",t),r(this.element).html(e)):r(this.element).html('<div class="box"><a class="count" href="'+this.options.defaultUrl+'">'+t+"</a>"+(""!==this.options.title?'<a class="share" href="'+this.options.defaultUrl+'">'+this.options.title+"</a>":"")+"</div>")},s.prototype.shorterTotal=function(t){return 1e6<=t?t=(t/1e6).toFixed(2)+"M":1e3<=t&&(t=(t/1e3).toFixed(1)+"k"),t},s.prototype.openPopup=function(t){this.platforms[t].popup(this.options),!0===this.options.enableTracking&&"undefined"!=typeof _gaq&&(infos=this.platforms[t].trackingAction,_gaq.push(["_trackSocial",infos.site,infos.action]))},s.prototype.simulateClick=function(){var t=r(this.element).html();r(this.element).html(t.replace(this.options.total,this.options.total+1))},s.prototype.update=function(t,e){""!==t&&(this.options.url=t),""!==e&&(this.options.text=e)},r.fn[i]=function(e){var n=arguments;return void 0===e||"object"==typeof e?this.each(function(){r(this).data("plugin_"+i)||r(this).data("plugin_"+i,new s(this,e))}):"string"==typeof e&&"_"!==e[0]&&"init"!==e?this.each(function(){var t=r(this).data("plugin_"+i);t instanceof s&&"function"==typeof t[e]&&t[e].apply(t,Array.prototype.slice.call(n,1))}):void 0}}(window.jQuery||window.Zepto,window,document);