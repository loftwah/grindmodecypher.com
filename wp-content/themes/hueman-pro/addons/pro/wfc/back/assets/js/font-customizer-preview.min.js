!function(a,b,c){function d(a){var d={id:"",selector:"",properties:{}};a=c.extend(d,a),m[a.id]=m[a.id]||{},m[a.id]["has-tried-inset"]=m[a.id]["has-tried-inset"]||!1,"menu_items"==a.id&&0<b(".tc-header").length&&b("body").addClass("wfc-reset-menu-item-first-letter");var f=[];c.each(a.properties,function(d,g){if("_not_set_"!=d)switch(g){case"color-hover":f.push({pseudo:"hover",property:"color",val:d,important:!0}),c.has(a.properties,"color")&&f.push({property:"color",val:a.properties.color});break;case"font-size":case"line-height":if(!c.isString(d))return;var h=d.replace("px","").replace("rem","");if(h=parseInt(h,10),!c.isNumber(h))return;var l=parseFloat(h)/16;f.push({property:g,val:l+"rem"});break;case"letter-spacing":if(!c.isString(d))return;if(d=d.replace("px","").replace("rem",""),d=parseInt(d,10),!c.isNumber(d))return;f.push({property:g,val:d+"px"});break;case"font-family":var n=d,o=a.properties.subset?a.properties.subset:0,p=e(n);-1!=n.indexOf("gfont")&&j(c.isString(a.selector)?a.selector:"",p,o);var q=i(p);c.each(q,function(a,b){f.push({property:b,val:a,important:!0})});break;case"static-effect":var r=b(a.selector).attr("class");if(r){r=r.split(" ");for(var s=0;s<r.length;s++)-1!=r[s].indexOf("font-effect")&&b(a.selector).removeClass(r[s])}b(a.selector).addClass("font-effect-"+d),m[a.id]["static-effect"]=d,m[a.id]["has-tried-inset"]="inset"==m[a.id]["static-effect"]||m[a.id]["has-tried-inset"];break;case"color":"inset"!=(m[a.id]["static-effect"]?m[a.id]["static-effect"]:"")&&k[a.id]&&"inset"==k[a.id]["static-effect"]&&(b(a.selector).css("background-color","transparent"),f.push({property:"background-color",val:"transparent"})),f.push({property:g,val:d});break;default:f.push({property:g,val:d})}});var g={},h=["font-family","font-style","font-weight","font-size","line-height","color","color-hover","letter-spacing","text-align","text-decoration","text-transform"];c.each(f,function(b){if(b=c.extend({property:"",val:"",pseudo:"",important:1==a.properties.important||!0===a.properties.important},b),c.contains(h,b.property)){var d=a.selector;if(!c.isEmpty(b.pseudo)){var e=[];c.each(d.split(","),function(a){a=[a,":",b.pseudo].join(""),e.push(a)}),d=e.join(",")}var f=b.val;!1===b.important||c.isEmpty(f)||(f+="!important"),g[d]=g[d]||{},c.isEmpty(f)||(g[d][b.property]=f)}});var l="";c.each(g,function(a,b){var d=[];c.each(a,function(a,b){d.push([b,":",a].join(""))}),l+=[b,"{",d.join(";"),"}"].join("")});var n="wfc-style-"+a.id;1>b("#"+n).length&&b("head").append(b("<style>",{id:n,type:"text/css"})),b("#"+n).html(l).attr("data-origin","customizer")}function e(a){return!!a&&a.replace("[cfont]","").replace("[gfont]","")}function f(a){return!!a&&a.replace(/[+|:]/g," ")}function g(a){return!!a&&a.replace(/[^0-9.]+/g,"")}function h(a){return a=a.replace(/[.|#]/g,""),a.replace(/\s+/g,"-")}function i(a){if(!c.isString(a)||c.isEmpty(a))throw new Error("preview::stoStyle => invalid font");var b,d,e=a.split(":"),h="";return b=e[0],d=e[1]?g(e[1]):"",h=e[1]&&-1!=e[1].indexOf("italic")?"italic":"",{"font-family":f(b),"font-weight":d||400,"font-style":h||""}}function j(a,c,d){l[a]=c;var e=["//fonts.googleapis.com/css?family="];e.push(c),d&&"all-subsets"!=d&&e.push("&subset="+d),0===b("link#"+h(a)).length?b("link:last").after('<link class="gfont" id="'+h(a)+'" href="'+e.join("")+'" rel="stylesheet" type="text/css">'):b("link#"+h(a)).attr("href",e.join(""))}var k=TCFontPreview.DBSettings,l=[],m={};a.bind("preview-ready",function(){a.preview.bind("wfc_joy",function(e){var f={id:"",data:{}};e=c.extend(f,e);var g={};c.each(e.data.customized,function(a){g[a]=e.data[a]});try{b(e.data.selector)}catch(a){return void console.log("Invalid selector for jQuery : "+e.data.selector)}if(e.data.selector&&0<b(e.data.selector).length){a.preview.send("wfc-selector-exists",{});try{d({id:e.data.id,selector:e.data.selector,properties:g})}catch(a){console.log("preview : styleSelector() => ",a)}}else{var h="wfc-style-"+e.data.id;0<b("#"+h).length&&b("#"+h).remove(),1>b(e.data.selector).length&&a.preview.send("wfc-missing-selector",{id:e.data.id,selector:e.data.selector})}}),a.preview.bind("wfc_check_if_selector_exists",function(d){var e={id:"",data:{}};d=c.extend(e,d);try{b(d.data.selector)}catch(a){return}1>b(d.data.selector).length&&a.preview.send("wfc-missing-selector",{id:d.data.id,selector:d.data.selector})})})}(wp.customize,jQuery,_),function(a,b,c){function d(a){var d={id:"",selector:"",properties:{}};a=c.extend(d,a),m[a.id]=m[a.id]||{},m[a.id]["has-tried-inset"]=m[a.id]["has-tried-inset"]||!1,"menu_items"==a.id&&0<b(".tc-header").length&&b("body").addClass("wfc-reset-menu-item-first-letter");var f=[];c.each(a.properties,function(d,g){if("_not_set_"!=d)switch(g){case"color-hover":f.push({pseudo:"hover",property:"color",val:d,important:!0}),c.has(a.properties,"color")&&f.push({property:"color",val:a.properties.color});break;case"font-size":case"line-height":if(!c.isString(d))return;var h=d.replace("px","").replace("rem","");if(h=parseInt(h,10),!c.isNumber(h))return;var l=parseFloat(h)/16;f.push({property:g,val:l+"rem"});break;case"letter-spacing":if(!c.isString(d))return;if(d=d.replace("px","").replace("rem",""),d=parseInt(d,10),!c.isNumber(d))return;f.push({property:g,val:d+"px"});break;case"font-family":var n=d,o=a.properties.subset?a.properties.subset:0,p=e(n);-1!=n.indexOf("gfont")&&j(c.isString(a.selector)?a.selector:"",p,o);var q=i(p);c.each(q,function(a,b){f.push({property:b,val:a,important:!0})});break;case"static-effect":var r=b(a.selector).attr("class");if(r){r=r.split(" ");for(var s=0;s<r.length;s++)-1!=r[s].indexOf("font-effect")&&b(a.selector).removeClass(r[s])}b(a.selector).addClass("font-effect-"+d),m[a.id]["static-effect"]=d,m[a.id]["has-tried-inset"]="inset"==m[a.id]["static-effect"]||m[a.id]["has-tried-inset"];break;case"color":"inset"!=(m[a.id]["static-effect"]?m[a.id]["static-effect"]:"")&&k[a.id]&&"inset"==k[a.id]["static-effect"]&&(b(a.selector).css("background-color","transparent"),f.push({property:"background-color",val:"transparent"})),f.push({property:g,val:d});break;default:f.push({property:g,val:d})}});var g={},h=["font-family","font-style","font-weight","font-size","line-height","color","color-hover","letter-spacing","text-align","text-decoration","text-transform"];c.each(f,function(b){if(b=c.extend({property:"",val:"",pseudo:"",important:1==a.properties.important||!0===a.properties.important},b),c.contains(h,b.property)){var d=a.selector;if(!c.isEmpty(b.pseudo)){var e=[];c.each(d.split(","),function(a){a=[a,":",b.pseudo].join(""),e.push(a)}),d=e.join(",")}var f=b.val;!1===b.important||c.isEmpty(f)||(f+="!important"),g[d]=g[d]||{},c.isEmpty(f)||(g[d][b.property]=f)}});var l="";c.each(g,function(a,b){var d=[];c.each(a,function(a,b){d.push([b,":",a].join(""))}),l+=[b,"{",d.join(";"),"}"].join("")});var n="wfc-style-"+a.id;1>b("#"+n).length&&b("head").append(b("<style>",{id:n,type:"text/css"})),b("#"+n).html(l).attr("data-origin","customizer")}function e(a){return!!a&&a.replace("[cfont]","").replace("[gfont]","")}function f(a){return!!a&&a.replace(/[+|:]/g," ")}function g(a){return!!a&&a.replace(/[^0-9.]+/g,"")}function h(a){return a=a.replace(/[.|#]/g,""),a.replace(/\s+/g,"-")}function i(a){if(!c.isString(a)||c.isEmpty(a))throw new Error("preview::stoStyle => invalid font");var b,d,e=a.split(":"),h="";return b=e[0],d=e[1]?g(e[1]):"",h=e[1]&&-1!=e[1].indexOf("italic")?"italic":"",{"font-family":f(b),"font-weight":d||400,"font-style":h||""}}function j(a,c,d){l[a]=c;var e=["//fonts.googleapis.com/css?family="];e.push(c),d&&"all-subsets"!=d&&e.push("&subset="+d),0===b("link#"+h(a)).length?b("link:last").after('<link class="gfont" id="'+h(a)+'" href="'+e.join("")+'" rel="stylesheet" type="text/css">'):b("link#"+h(a)).attr("href",e.join(""))}var k=TCFontPreview.DBSettings,l=[],m={};a.bind("preview-ready",function(){a.preview.bind("wfc_joy",function(e){var f={id:"",data:{}};e=c.extend(f,e);var g={};c.each(e.data.customized,function(a){g[a]=e.data[a]});try{b(e.data.selector)}catch(a){return void console.log("Invalid selector for jQuery : "+e.data.selector)}if(e.data.selector&&0<b(e.data.selector).length){a.preview.send("wfc-selector-exists",{});try{d({id:e.data.id,selector:e.data.selector,properties:g})}catch(a){console.log("preview : styleSelector() => ",a)}}else{var h="wfc-style-"+e.data.id;0<b("#"+h).length&&b("#"+h).remove(),1>b(e.data.selector).length&&a.preview.send("wfc-missing-selector",{id:e.data.id,selector:e.data.selector})}}),a.preview.bind("wfc_check_if_selector_exists",function(d){var e={id:"",data:{}};d=c.extend(e,d);try{b(d.data.selector)}catch(a){return}1>b(d.data.selector).length&&a.preview.send("wfc-missing-selector",{id:d.data.id,selector:d.data.selector})})})}(wp.customize,jQuery,_);