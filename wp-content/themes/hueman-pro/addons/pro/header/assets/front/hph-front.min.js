!function(){var i=function(){jQuery(function(l){var i={fire:function(i){var e=this;if(e.hasBeenInit=e.hasBeenInit||l.Deferred(),_.isObject(i)&&(i=_.extend({module_id:"",isSingleSlide:!1,isLazyLoad:!0,isFreeScroll:!1,isParallaxOn:!0,parallaxRatio:.55,isFixedCaption:!1,timeInterval:5e3,isAutoplay:!1,pauseAutoPlayOnHover:!0,captionFontRatio:0,isDoingPartialRefresh:!1},i||{}),l.extend(e,i)),_.isEmpty(e.module_id))throw new Error("proHeaderSlid, missing module_id");e.loadingIconVisible=new czrapp.Value(!1),e.loadingIconVisible.bind(function(i){var t=l("#ha-large-header").find(".czr-css-loader");1==t.length&&(i?l.when(t.css({display:"block",opacity:0})).done(function(){t.css({opacity:1})}):(t.css({opacity:0}),_.delay(function(){t.css({display:"none"})},800)),clearTimeout(l.data(this,"loadIconTimer")),l.data(this,"loadIconTimer",_.delay(function(){e.loadingIconVisible(!1)},2e3)))}),e.loadingIconVisible(!0),e.captionFontRatio=50<Math.abs(parseInt(e.captionFontRatio,10))?0:parseInt(e.captionFontRatio,10),e.captionFontRatio=1+Math.round(100*e.captionFontRatio/100)/100,_.isUndefined(l.fn.proHeaderFitText)&&e._addJqueryFitText(),czrapp.bind("flickity-slider-fired",function(i){1<=i.find(".carousel-caption .hph-title").length&&i.find(".carousel-caption .hph-title").proHeaderFitText(1.5,{maxFontSize:65*e.captionFontRatio,minFontSize:30,captionFontRatio:e.captionFontRatio}),1<=i.find(".carousel-caption .hph-subtitle").length&&i.find(".carousel-caption .hph-subtitle").proHeaderFitText(1.9,{maxFontSize:35*e.captionFontRatio,minFontSize:20,captionFontRatio:e.captionFontRatio}),1<=i.find(".carousel-caption .meta-single").length&&i.find(".carousel-caption .meta-single").proHeaderFitText(2.5,{maxFontSize:16.5*e.captionFontRatio,minFontSize:14,captionFontRatio:e.captionFontRatio})}),e.lazyLoadOpt=!1,e.isLazyLoad&&(e.lazyLoadOpt=!e.isFreeScroll||2),czrapp.ready.then(function(){var i=function(){e.flickityEl=e._fire_(),!e.flickityEl||!_.isObject(e.flickityEl)||e.flickityEl.length<1?czrapp.errorLog("Pro Header Flickity slider not properly fired"):czrapp.trigger("flickity-slider-fired",e.flickityEl)};if("pending"==e.hasBeenInit.state())e._init().done(function(){i()});else{if(e.flickityEl.length<=1&&!_.isUndefined(e.flickityEl.data("flickity")))return;i()}})},_init:function(){var e=this;return l.Deferred(function(){var i=Flickity.prototype.activate;Flickity.prototype.activate=function(){if(!this.isActive){i.apply(this,arguments),l(this.element).trigger("hu-flickity-ready")}};var t=Flickity.LazyLoader.prototype.load;Flickity.LazyLoader.prototype.load=function(){this.flickity.dispatchEvent("lazyLoad-start",null,this.img.getAttribute("data-flickity-lazyload")),$img=l(this.img),$img.attr("srcset",$img.attr("data-flickity-srcset")).attr("sizes",$img.attr("data-flickity-imgsizes")),$img.removeAttr("data-flickity-srcset").removeAttr("data-flickity-imgsizes"),t.apply(this,arguments)},czrapp.$_body.on("click tap prev.hu-slider",".slider-prev",function(i){e._slider_arrows.apply(this,[i,"previous"])}),czrapp.$_body.on("click tap next.hu-slider",".slider-next",function(i){e._slider_arrows.apply(this,[i,"next"])}),e.hasBeenInit.resolve(),this.resolve()}).promise()},_fire_:function(){var n=this,e=l(".carousel-inner","#"+n.module_id);if(e.length<1)czrapp.errorLog("Flickity slider dom element is empty : "+n.module_id);else{if(!(1<e.length)){e.on("hu-flickity-ready.flickity",function(i){if(n.isParallaxOn&&l(i.target).children(".flickity-viewport").css("will-change","transform").czrParallax({parallaxRatio:n.parallaxRatio}),n.isFixedCaption){var t=e.find(".carousel-caption-wrapper");e.find(".flickity-viewport").prepend(t)}});var t=function(i){var t="select"==i?"translate3d(-50%, -50%, 0)":"";return{"-webkit-transform":t,"-ms-transform":t,"-o-transform":t,transform:t}};n._flickityse(),n._centerSlidise();var o=!0;return _.delay(function(){e.on("scroll.flickity",_.throttle(function(i){!0,e.find(".carousel-caption").css(t(o?"settle":"select"))},250)),e.on("select.flickity",function(i){o=!1}),e.on("settle.flickity",function(i){!(o=!0),e.find(".carousel-caption").css(t("settle"))}),czrapp.userXP&&czrapp.userXP.isResizing&&czrapp.userXP.isResizing.bind(_.debounce(function(i){e.find(".carousel-caption").css(t(i?"select":"settle"))},700)),n.imgLazyLoaded=[];var a=function(i,t){n.loadingIconVisible(i)};a=_.debounce(a,100),e.on("lazyLoad-start.flickity",function(i,t){a(!0,t)}),e.on("lazyLoad.flickity",function(i,t){if(1==l(t).length){var e=l(t).find("img");1==e.length&&n.imgLazyLoaded.push(e.attr("src")),a(!1,e.attr("src"))}else a(!1)}),n.loadingIconVisible(!1),e.css({opacity:1}),l("#ha-large-header").find("#"+n.module_id).addClass("slider-ready")},50),e}czrapp.errorLog("Header Slider Aborted : more than one flickity slider dom element : "+n.module_id)}},_flickityse:function(){var i=this,t=!1;i.isAutoplay&&(t=!(_.isNumber(i.timeInterval)&&0<i.timeInterval)||i.timeInterval),l(".carousel-inner","#"+i.module_id).flickity({prevNextButtons:!1,pageDots:!i.isSingleSlide,wrapAround:!0,imagesLoaded:!0,setGallerySize:!1,cellSelector:".carousel-cell",dragThreshold:10,autoPlay:t,pauseAutoPlayOnHover:i.pauseAutoPlayOnHover,accessibility:!1,lazyLoad:i.lazyLoadOpt,draggable:!i.isSingleSlide,freeScroll:i.isFreeScroll,freeScrollFriction:.03})},_slider_arrows:function(i,t){i.preventDefault();var e=l(this),a=e.data("controls");e.length&&(a||(a=e.closest(".pc-section-slider").find(".flickity-enabled").data("flickity"),e.data("controls",a)),"previous"==t?a.previous():"next"==t&&a.next())},_centerSlidise:function(){var i=this;setTimeout(function(){l.each(l(".carousel-inner","#"+i.module_id),function(){l(this).centerImages({enableCentering:1,imgSel:".carousel-image img",oncustom:["lazyLoad.flickity","settle.flickity","simple_load"],defaultCSSVal:{width:"100%",height:"auto"},useImgAttr:!0,zeroTopAdjust:0})})},50)},_addJqueryFitText:function(){if(!l.fn.proHeaderFitText){var r=this;l.fn.proHeaderFitText=function(i,t){var a=i||1,n=l.extend({minFontSize:Number.NEGATIVE_INFINITY,maxFontSize:Number.POSITIVE_INFINITY,captionFontRatio:1},t),o=n.captionFontRatio;return this.each(function(){var t=l(this),e=function(){var i=Math.max(Math.min(t.width()/(10*a),r.flickityEl&&1<=r.flickityEl.length?r.flickityEl.height()/(8*a):t.width()/(10*a),parseFloat(n.maxFontSize)),parseFloat(n.minFontSize));i=Math.max(i*o,parseFloat(n.minFontSize)),t.css("font-size",i+"px"),t.css("line-height",1.45*i+"px")};e(),l(window).on("resize.fittext orientationchange.fittext",e),czrapp&&czrapp.ready&&czrapp.ready.then(function(){if(czrapp.userXP._isCustomizing()){var i=function(){wp.customize.preview.bind("czr_input",function(){e()})};wp.customize.topics&&wp.customize.topics["preview-ready"]&&wp.customize.topics["preview-ready"].fired()?i():wp.customize.bind("preview-ready",i)}})})}}}};czrapp.methods.ProHeaderSlid=czrapp.methods.ProHeaderSlid||{},l.extend(czrapp.methods.ProHeaderSlid,i);var t=document.createEvent("Event");t.initEvent("hu-hph-front-loaded",!0,!0),document.dispatchEvent(t)})};window.czrapp&&czrapp.ready&&"resolved"===czrapp.ready.state()?i():document.addEventListener("czrapp-is-ready",i)}();